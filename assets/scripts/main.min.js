function setting(){$("#setting").toggleClass("rotate"),$("#setting").toggleClass("rotate-back"),$("#user-info").css("display","none"),$("#note").css("display","none"),$("#event").css("display","none"),$("#setting-bar").slideToggle()}function fade(){$("#event").css("display","none"),$("#setting-bar").css("display","none"),$("#note").css("display","none"),$("#user-info").fadeToggle()}function searching(){$("#search").toggleClass("flag"),$("#search").hasClass("flag")?($("#search").removeClass("hide"),$("#search").delay(10).animate({width:"40%"})):($("#search").animate({width:"0%"}),setTimeout(function(){$("#search").addClass("hide")},300))}function hidding(t){$("#"+t).css("display","none")}function display(t){$("#"+t).fadeToggle()}function showing(){$("#chat").toggleClass("hide")}function mail(){$("#mail").toggleClass("hide")}function transform3d(){$("#aris-logo").addClass("transform3d")}function deleteTransform(){$("#aris-logo").removeClass("transform3d")}function table(){$(".fc-time-grid .fc-event-container").css("display","inline-block")}function checkCookie(){var t=navigator.cookieEnabled;return t||(document.cookie="testcookie",t=-1!=document.cookie.indexOf("testcookie")),t||showCookieFail()}function appleCheck(){is_iPad&&screen.orientation.lock("landscape")}function showCookieFail(){alert("برای کاربری مناسب کوکی سیستم خود را روشن کنید")}var app=angular.module("myApp",[]);app.directive("aris",function(){return{scope:!0,restrict:"AE",replace:"true",template:'<ng-include src="template"/>',link:function(t,e,a){t.$watch(function(){t.template="modules/"+t.number})}}}),app.directive("sidebar",function(){return{scope:!0,restrict:"AE",replace:"true",template:'<ng-include src="template1"/>',link:function(t,e,a){t.$watch(function(){t.template1="modules/"+t.side})}}}),app.controller("myCtrl",function(t,e,n,o,i){t.login=function(a,n){e.get("data/users.json").then(function(e){t.users=e.data.users;for(var o=0;o<t.users.length;o++){if(a==t.users[o].username&&n==t.users[o].password){window.location.href="new_design_firstpage.html";break}o==t.users.length-1&&alert("رمز یا نام کاربری اشتباه میباشد")}})},fetch("data/document.json").then(function(t){return t.json()}).then(function(e){var a=0,n=0;t.document=e.document;for(var o=0;o<t.document.length;o++)a+=t.document[o].debt,n+=t.document[o].credit,t.document[o].credit=t.numberFormat(t.document[o].credit.toString())+"/"+t["float"](t.document[o].credit),t.document[o].debt=t.numberFormat(t.document[o].debt.toString())+"/"+t["float"](t.document[o].debt);$("#documentDebt").html(t.numberFormat(a.toString())+"/"+t["float"](a)),$("#documentCredit").html(t.numberFormat(n.toString())+"/"+t["float"](n))}),t.number="unload.html",t.limitedNote=[],t.reading=0,e.get("data/error.json").then(function(e){t.error=e.data.error}),t.calendarsubmit=function(e,a,n){t.calendar={title:n,start:$("#start1").val(),end:$("#finish1").val()},t.events.push(t.calendar)},e.get("data/cartable.json").then(function(e){t.cartable=e.data.cartable;for(var a=0;a<t.cartable.length;a++)0==t.cartable[a].read?t.reading=t.reading+1:$("check"+t.cartable[a].id).removeClass("hide");0==t.reading&&$(".badge").css("opacity","0")}),t.headerSlide=function(e,a,n,o){0==n.length?t.table(o):$("#"+e).slideToggle(),$("#nav").html(a),$("#subnav").html("")},t.showContext=function(e,a,n,o){$("#my-title").html(e),$("#my-context").html(a),t.titleShow=!0,0==t.cartable[n].read&&(t.reading=t.reading-1,0==t.reading&&$(".badge").css("opacity","0")),t.cartable[n].read=1};var r,s;e.get("data/note.json").then(function(e){t.note=e.data.note,t.message=e.data.message,t.alarm=e.data.alarm,t.sliderAlarm=t.alarm[0],s=t.alarm.length,t.carousel()});var l=0;t.carousel=function(){l>t.alarm.length-1?(l=0,t.sliderAlarm=t.alarm[l]):0>l?(l=t.alarm.length-1,t.sliderAlarm=t.alarm[l]):t.sliderAlarm=t.alarm[l],l+=1,r=setTimeout(function(){t.carousel()},6e3)},t.slider=function(e){-1==e&&(l-=2),clearTimeout(r),t.carousel(),$(".play").addClass("hide"),$(".pause").removeClass("hide")},t.pause=function(){console.log(r),clearTimeout(r),$(".pause").addClass("hide"),$(".play").removeClass("hide")},t.play=function(){t.carousel(),$(".play").addClass("hide"),$(".pause").removeClass("hide")},fetch("data/system.json").then(function(t){return t.json()}).then(function(e){t.system=e.system}),e.get("data/subsystem.json").then(function(e){t.subsystem=t.getCookieValue("SubSystem")?JSON.parse(t.getCookieValue("SubSystem")):[],$("#nav").html(t.subsystem[0].title)})["catch"](function(){t.error[0]="خطا در دستیابی به اطلاعات"}),t.getCookieValue=function(t){var e=document.cookie.match("(^|;)\\s*"+t+"\\s*=\\s*([^;]+)");return e?e.pop():""},t["delete"]=function(){$("#select").is(":checked")?t.cartable=[]:$(".cartable-input").each(function(e){if(1==this.checked)for(var a=this.value,n=0;n<t.cartable.length;n++)a==t.cartable[n].id&&t.cartable.splice(e,1)})},t.subSystem=function(e,a){var n=new Date,o=n.getTime();o+=36e5,n.setTime(o);var i=[];t.systemslider=[];for(var r=0;r<t.subsystem.length;r++)if(t.subsystem[r].id==e){for(var s=0;s<t.subsystem[r].children.length;s++)t.subsystem[r].children[s].id==a&&t.systemslider.push(t.subsystem[r].children[s]);$("#nav").html(t.subsystem[r].title);var i=JSON.stringify(t.subsystem);$(".subsystem").slideUp(),document.cookie="SubSystem = "+i+";expires="+n.toUTCString()+";path =/"}},t.inboxing=function(){1==$("#select").prop("checked")?$(".modal_input").prop("checked",!0):$(".modal_input").prop("checked",!1)},t.gettingSystem=function(e){var a=new Date,n=a.getTime();n+=36e5,a.setTime(n);for(var o=0;o<t.system.length;o++)if(t.system[o].id==e){var i=JSON.stringify(t.system[o].children);document.cookie="SubSystem = "+i+";expires="+a.toUTCString()+";path =/"}window.location.href="system-page.html"},t.topLinking=function(e,a){if("system-page.html"==a)t.gettingSystem(e);else{var n=window.open(a,"_blank");n.focus()}},t.addThis=function(e,a){var n={title:"",id:"",content:""};n.title=a,n.content=e,n.id="mynote"+t.limitedNote.length+1,$("#notetitle").val(""),$("#notearea").val(""),t.note.push(n)},t.removeItem=function(e,a){1==e?t.message.splice(a,1):2==e&&t.note.splice(a,1)},t.radio=function(e){t.numberType[0]=e},t.tabledata=[],t.dataLoad=function(a){t.loading=!0,t.paginationNumber=[],t.limitedEdition=[],t.dataToSend=[],void 0==a[0]&&(t.error[0]="فرم نمیتواند خالی باشد",$("#error").modal());for(var n=0;n<a.length;n++)t.dataToSend.push(a[n]);t.dataToSend.push($("#pdp").val()),t.dataToSend.push($("#pdp1").val()),e.get("data/table.json").then(function(e){t.loading=!1,t.tabledata=e.data.table;for(var a=0;a<t.tabledata.length;a++)2==t.numberType[0]?(t.tabledata[a].credit=t.tabledata[a].credit/1e3,t.tabledata[a].debt=t.tabledata[a].debt/1e3):3==t.numberType[0]&&(t.tabledata[a].credit=t.tabledata[a].credit/1e6,t.tabledata[a].debt=t.tabledata[a].debt/1e6),void 0!=t.tabledata[a].credit&&void 0!=t.tabledata[a].debt&&(Number(t.tabledata[a].credit)>Number(t.tabledata[a].debt)?(t.tabledata[a].remain=Number(t.tabledata[a].credit)-Number(t.tabledata[a].debt),t.tabledata[a].situation="بستانکار"):Number(t.tabledata[a].credit)<Number(t.tabledata[a].debt)?(t.tabledata[a].remain=Number(t.tabledata[a].debt)-Number(t.tabledata[a].credit),t.tabledata[a].situation="بدهکار"):(t.tabledata[a].remain=Number(t.tabledata[a].debt)-Number(t.tabledata[a].credit),t.tabledata[a].situation="-"));t.pagination(1);var n;n=Math.ceil(t.tabledata.length/15);for(var o=1;n+1>o;o++)t.paginationNumber.push(o)})["catch"](function(){t.error[0]="عدم دستیابی به اطلاعات",$("#error").modal()}),setTimeout(function(){t.tableFonting()},10)},t["float"]=function(t){return(t-Math.floor(t)).toFixed(2).toString().substring(2)},t.pagination=function(e){var a=0,o=0,i=0;$(".pagination li").removeClass("active"),$("#pagination"+e).addClass("active"),t.limitedEdition=[];var r=15*(e-1);if(r+15<t.tabledata.length){for(var s=0;r+15>s;s++)void 0!=t.tabledata[s].credit&&void 0!=t.tabledata[s].debt&&(a+=t.tabledata[s].credit,o+=t.tabledata[s].debt,t.tabledata[s].decimal=(t.tabledata[s].credit-Math.floor(t.tabledata[s].credit)).toFixed(2));for(var d=0;15>d;d++)t.limitedEdition[d]=t.tabledata[r+d]}else{for(var s=0;s<t.tabledata.length;s++)void 0!=t.tabledata[s].credit&&void 0!=t.tabledata[s].debt&&(a+=t.tabledata[s].credit,o+=t.tabledata[s].debt,t.tabledata[s].decimal=(t.tabledata[s].credit-Math.floor(t.tabledata[s].credit)).toFixed(2));for(var d=0;d<t.tabledata.length-r;d++)t.limitedEdition[d]=t.tabledata[r+d]}n(function(){for(var e=0;e<t.limitedEdition.length;e++)void 0!=t.limitedEdition[e].credit&&void 0!=t.limitedEdition[e].debt&&(t.limitedEdition[e].decimal=(t.limitedEdition[e].credit-Math.floor(t.limitedEdition[e].credit)).toFixed(2),0!=(t.limitedEdition[e].credit-Math.floor(t.limitedEdition[e].credit)).toFixed(2)?$("#credit"+t.limitedEdition[e].id).html(t.numberFormat(t.limitedEdition[e].credit.toString())+"/"+t["float"](t.limitedEdition[e].credit)):$("#credit"+t.limitedEdition[e].id).html(t.numberFormat(t.limitedEdition[e].credit.toString())),0!=(t.limitedEdition[e].debt-Math.floor(t.limitedEdition[e].debt)).toFixed(2)?$("#debt"+t.limitedEdition[e].id).html(t.numberFormat(t.limitedEdition[e].debt.toString())+"/"+t["float"](t.limitedEdition[e].debt)):$("#debt"+t.limitedEdition[e].id).html(t.numberFormat(t.limitedEdition[e].debt.toString())),0!=(t.limitedEdition[e].remain-Math.floor(t.limitedEdition[e].remain)).toFixed(2)?$("#remain"+t.limitedEdition[e].id).html(t.numberFormat(t.limitedEdition[e].remain.toString())+"/"+t["float"](t.limitedEdition[e].remain)):$("#remain"+t.limitedEdition[e].id).html(t.numberFormat(t.limitedEdition[e].remain.toString())),"بستانکار"==t.limitedEdition[e].situation||"-"==t.limitedEdition[e].situation?$("#remain"+t.limitedEdition[e].id).addClass("green"):$("#remain"+t.limitedEdition[e].id).addClass("red"));t.font()},0),a>o?($("#totalSituation").html("بستانکار"),i=a-o,$("#totalSum").addClass("green")):($("#totalSituation").html("بدهکار"),i=o-a,$("#totalSum").addClass("red")),a=t.numberFormat(a.toString())+"/"+t["float"](a),o=t.numberFormat(o.toString())+"/"+t["float"](o),i=t.numberFormat(i.toString())+"/"+t["float"](i),$("#creditSum").html(a),$("#debtSum").html(o),$("#totalSum").html(i),setTimeout(function(){t.tableFonting()},10)},t.numberFormat=function(t){var e=",",a=t.split(".",2),n=a,o=parseInt(a[0]);if(isNaN(o))return"";var i="";0>o&&(i="-"),o=Math.abs(o);for(var r=new String(o),a=[];r.length>3;){var s=r.substr(r.length-3);a.unshift(s),r=r.substr(0,r.length-3)}return r.length>0&&a.unshift(r),r=a.join(e),t=n.length<1?r:r,t=i+t};var c=0;t.checking=function(a){if(46===a.which&&(e.get("data/modal.json").then(function(e){t.first=e.data.first})["catch"](function(){t.error[0]="عدم برقراری ارتباطات مجددا سعی کنید",$("#error").modal()}),$("#myModal").modal("toggle")),43===a.which){if(0==c)return e.get("data/modal.json").then(function(e){t.first=e.data.second})["catch"](function(){t.error[0]="عدم برقراری ارتباطات مجددا سعی کنید",$("#error").modal()}),void(c+=1);1==c&&(e.get("data/modal.json").then(function(e){t.first=e.data.third})["catch"](function(){t.error[0]="خطا در دستیابی به اطلاعات",$("#error").modal()}),c+=1)}if(45==a.which){if(1==c)return e.get("data/modal.json").then(function(e){t.first=e.data.first})["catch"](function(){t.error[0]="خطا در دستیابی به اطلاعات",$("#error").modal()}),void(c-=1);if(2==c)return e.get("data/modal.json").then(function(e){t.first=e.data.second})["catch"](function(){t.error[0]="خطا در دستیابی به اطلاعات",$("#error").modal()}),void(c-=1)}},t.eventNumber=0,e.get("data/buttonTest.json").then(function(e){t.buttons=e.data.buttons,t.showingbutton()}),t.showingbutton=function(){for(var e=0;e<t.buttons.length;e++)0==t.buttons[e].situation&&$("#buttons"+t.buttons[e].id).css("display","none")},t.genral=function(e){switch(e){case 12:t.dataLoad(1,1,1,1,1);break;case 13:console.log("second function");break;case 14:console.log("third function");break;case 15:console.log("forth function");break;default:console.log("no function fund")}},e.get("data/events.json").success(function(e){t.events=e;for(var a=new Date,n=a.getMonth()+1,o=a.getDate(),i=a.getFullYear(),r=(i+"/"+n+"/"+o).toString(),s=0;s<t.events.length;s++)t.events[s].start==r&&(t.eventNumber+=1)})["catch"](function(){t.error[0]="خطا در دستیابی به اطلاعات",$("#error").modal()}),t.list_slide=function(e,a,n,o){t.tabledata=[],$("#creditSum").html(""),$("#debtSum").html(""),$("#totalSum").html(""),$("#totalSituation").html(""),$("#"+a).toggleClass("flag"),0!=n.length&&void 0!=n?($("#"+a).slideToggle(),$("#"+a).hasClass("flag")?$("#subnav").append("<i class='fa fa-angle-left'></i>"+e):$("#subnav").html(" ")):($("#"+a).removeClass("flag"),$("#subnav").append("<i class='fa fa-angle-left'></i>"+e),t.table(o))},t.table=function(a){t.number="example"+a+".html",e.get("data/table1.json").then(function(e){t.tabledata=e.data.table})["catch"](function(){t.error[0]="خطا در دستیابی به اطلاعات",$("#error").modal()})},i(function(){return e.get("data/chat.json").then(function(e){t.chat=e.data.message})["catch"](function(){t.error[0]="خطا در دستیابی به اطلاعات",$("#error").modal()})},5e3),t.orderBy=function(e){t.myorder=e},t.drop=function(t){$("#dropdown"+t).slideToggle(),$("#subnav").html("")},t.chatting=function(e){t.newChat={sender:" ",content:"",type:"",reciver:""},void 0==e&&alert("برای آغاز گفتگو یک فرد را باید انتخاب کنید"),t.newChat.content=$("#chattext").val(),t.newChat.reciver=e,t.newChat.type="send",t.chat.push(t.newChat),$("#chattext").val(""),setTimeout(function(){$("#chatarea").scrollTop=$("#chatarea").scrollHeight},100)},e.get("data/theme.json").then(function(e){t.colorTheme=e.data.color,t.fontTheme=e.data.font,t.tableFont=e.data.tableFont,t.numberType=e.data.numberType,setTimeout(function(){t.theme(),t.font()},200)})["catch"](function(){t.error[0]="خطا در برقراری ارتباطات",$("#error").modal()}),t.tablefontChange=function(e){t.tableFont[0]=$("#points-font").val(),t.tableFonting()},t.fontChanger=function(e){t.fontTheme=e,t.font()},t.colorChanger=function(e){t.colorTheme=e,t.theme()},t.tableFonting=function(){$("table").find(".table-number").css("font-size",t.tableFont[0]+"px")},t.theme=function(){1==t.colorTheme[0]?($(".color").removeClass("second-color"),$(".color").removeClass("third-color"),$(".color").addClass("first-color"),$(".mycalendar").removeClass("calendar-second-color"),$(".mycalendar").removeClass("calendar-third-color"),$(".mycalendar").addClass("calendar-first-color"),$(".top-link").css("color","5BB0E2"),$("button").css("background","#5BB0E2"),$("#user-message").css("background-color","5BB0E2"),$("footer").css("background-color","#5BB0E2"),$(".system-li>h4").css("background-color","#5BB0E2"),$(".pagination > .active > a ").css("background-color","5BB0E2")):2==t.colorTheme[0]?($(".color").removeClass("first-color"),$(".color").removeClass("third-color"),$(".color").addClass("second-color"),$(".mycalendar").removeClass("calendar-first-color"),$(".mycalendar").removeClass("calendar-third-color"),$(".mycalendar").addClass("calendar-second-color"),$(".top-link").css("color","#3eb65c"),$("button").css("background-color","#3eb65c"),$("#user-message").css("background-color","#67cb80"),$("footer").css("background-color","#67cb80"),$(".system-li>h4").css("background-color","#67cb80"),$(".pagination > .active > a ").css("background-color","#3eb65c")):($(".color").removeClass("second-color"),$(".color").removeClass("first-color"),$(".color").addClass("third-color"),$(".mycalendar").removeClass("calendar-second-color"),$(".mycalendar").removeClass("calendar-first-color"),$(".mycalendar").addClass("calendar-third-color"),$(".top-link").css("color","#b194f1"),$("#user-message").css("background-color","#cebbf6"),$("button").css("background-color","#b194f1"),$("footer").css("background-color","#cebbf6"),$(".system-li>h4").css("background-color","#cebbf6"),$(".pagination > .active > a ").css("background-color","#b194f1"))},t.font=function(){$(".theme-check").addClass("hide"),$(".fa-pencil").removeClass("hide"),1==t.fontTheme[0]?($("#first").addClass("hide"),$("#firstcheck").removeClass("hide"),$(".fontchange").css("font-family","far"),$("label").css("font-family","far"),$("button").css("font-family","far"),$("th").css("font-family","far")):2==t.fontTheme[0]?($("#second").addClass("hide"),$("#secondcheck").removeClass("hide"),$(".fontchange").css("font-family","iran-sans"),$("label").css("font-family","iran-sans"),$("button").css("font-family","iran-sans"),$("th").css("font-family","iran-sans"),$(".top-link").css("font-size","15px"),$(".sub-system p").css("font-size","15px")):($("#third").addClass("hide"),$("#thirdcheck").removeClass("hide"),$(".fontchange").css("font-family","dubai"),$("label").css("font-family","dubai"),$("button").css("font-family","dubai"),$("th").css("font-family","dubai"),$("th").css("font-size","14px"),$(".top-link").css("font-size","13px"),$(".sub-system p").css("font-size","13px"))},t.sideBar=function(e){t.sidecontainer(e),$(".side-tool").animate({width:"400px"},"slow"),$(".side-filter").animate({width:"400px"},"slow"),$(".container-filter a").css("pointer-events","none"),$("nav a").css("pointer-events","none"),$("nav i").css("pointer-events","none")},t.mainSystem=function(){$("#mainSystems").modal()},t.sidecontainer=function(a){if(1==a&&(e.get("data/note.json").then(function(e){t.note=e.data.note,t.message=e.data.message,t.alarm=e.data.alarm;for(var a=0;3>a;a++)t.limitedNote.push(t.note[a])}),t.side="note2.html"),2==a){var n;e.get("data/events.json").then(function(t){$('[data-toggle="tooltip"]').tooltip(),n=t}),t.side="calendar2.html"}3==a&&(e.get("data/link.json").then(function(e){t.link=e.data.link}),t.side="link.html")},t.sideBarClose=function(){$(".side-tool").animate({width:"0px"}),$(".side-filter").animate({width:"0px"}),$(".container-filter a").css("pointer-events",""),$("nav a").css("pointer-events",""),$("nav i").css("pointer-events",""),$(".effect").css("filter","none")},t.mydate=function(){switch(week=new Array("يكشنبه","دوشنبه","سه شنبه","چهارشنبه","پنج شنبه","جمعه","شنبه"),months=new Array("فروردين","ارديبهشت","خرداد","تير","مرداد","شهريور","مهر","آبان","آذر","دي","بهمن","اسفند"),a=new Date,d=a.getDay(),day=a.getDate(),month=a.getMonth()+1,year=a.getYear(),year=0==year?2e3:year,year<1e3?year+=1900:!0,year-=month<3||3==month&&day<21?622:621,month){case 1:day<21?(month=10,day+=10):(month=11,day-=20);break;case 2:day<20?(month=11,day+=11):(month=12,day-=19);break;case 3:day<21?(month=12,day+=9):(month=1,day-=20);break;case 4:day<21?(month=1,day+=11):(month=2,day-=20);break;case 5:case 6:day<22?(month-=3,day+=10):(month-=2,day-=21);break;case 7:case 8:case 9:day<23?(month-=3,day+=9):(month-=2,day-=22);break;case 10:day<23?(month=7,day+=8):(month=8,day-=22);break;case 11:case 12:day<22?(month-=3,day+=9):(month-=2,day-=21)}day<10&&$(".myday").css("right","44%"),t.myday=day,t.myMonth=months[month-1],t.dayname=week[d]},t.mydate(),t.newMonth=function(e){12==month&&1==e?month=1:1==month&&-1==e?month=12:month+=e,t.myMonth=months[month-1]}}),table();var is_iPad=null!=navigator.userAgent.match(/iPad/i);appleCheck(),checkCookie();